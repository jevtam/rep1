#include <iostream>
#include <string>
#include <unordered_map>
using namespace std;

string arabicToRoman(int number)
{
    string romanNumerals[] =
    {
        "M",
        "CM",
        "D",
        "CD",
        "C",
        "XC",
        "L",
        "XL",
        "X",
        "IX",
        "V",
        "IV",
        "I"
    };

    int arabicNumerals[] =
    {
        1000,
        900,
        500,
        400,
        100,
        90,
        50,
        40,
        10,
        9,
        5,
        4,
        1
    };

    string result;

    while (number > 0)
    {
        for (int i = 0; i < 13; i++) {
            if (number >= arabicNumerals[i])
            {
                number -= arabicNumerals[i];
                result += romanNumerals[i];
                break;
            }
        }
    }

    return result;
}

int romanToArabic(const string& roman)
{
    unordered_map<char, int> value = {
        { 'I', 1 },
        { 'V', 5 },
        { 'X', 10 },
        { 'L', 50 },
        { 'C', 100 },
        { 'D', 500 },
        { 'M', 1000 }
    };

    int result = 0;
    for (size_t i = 0; i < roman.size(); i++)
    {
        if (i + 1 < roman.size() && value[roman[i]] < value[roman[i + 1]]) {
            result -= value[roman[i]];
        }
        else {
            result += value[roman[i]];
        }
    }

    return result;
}

int main() 
{
    int number;
    string roman;
    setlocale(LC_ALL, "Rus");
    cout << "Введите число на арабских цифрах: ";
    cin >> number;
    roman = arabicToRoman(number);
    cout << "Римские цифры: " << roman << endl;

    cout << "Введите число на римских цифрах: ";
    cin >> roman;
    number = romanToArabic(roman);
    cout << "Арабские цифры: " << number << endl;

    return 0;
}